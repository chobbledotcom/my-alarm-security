<ul class="reviews-grid">
  {%- for review in reviews -%}
  <li>
    <span class="review">{{ review.content }}</span>
    <span class="name">
      {%- if review.data.url -%}
        <a href="{{ review.data.url }}" target="_blank" rel="nofollow">{{ review.data.name }}</a>
      {%- else -%}
        {{ review.data.name }}
      {%- endif -%}
    </span>
    <span class="rating" aria-label="{{ review.data.rating }} out of 5 stars">
      {% for i in (1..5) -%}
        {%- if i <= review.data.rating -%}★{%- else -%}☆{%- endif -%}
      {%- endfor %}
    </span>
    {%- if product_links and review.data.products.size > 0 -%}
    <span class="products">
      {% for slug in review.data.products -%}
        {% assign product = collections.products | where: "fileSlug", slug | first -%}
        <a href="{{ product.url }}">{{ product.data.title }}</a>{%- unless forloop.last -%}, {% endunless -%}
      {%- endfor -%}
    </span>
    {%- endif -%}
  </li>
  {%- endfor -%}
</ul>
