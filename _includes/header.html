<header>
  <h1>
    {{ header_text | default: page.header_text }}
  </h1>
  {% if header_image or page.header_image %}
    {% assign image_data = header_image | default: page.header_image %}
    {%- comment -%}Extract filename from gallery objects{%- endcomment -%}
    {% if image_data.filename %}
      {% assign image_path = image_data.filename %}
    {% elsif image_data[0].filename %}
      {% assign image_path = image_data[0].filename %}
    {% else %}
      {% assign image_path = image_data %}
    {% endif %}
    {%- comment -%}Only render if we have a valid string path starting with /{%- endcomment -%}
    {% assign path_start = image_path | slice: 0 %}
    {% if path_start == "/" %}
    <div class="desktop-image">
      {% image image_path, "", config.products.header_image_widths, "banner", "", "3.5/1", "eager" %}
    </div>
    <div class="mobile-image">
      {% image image_path, "", config.products.header_image_widths, "banner", "", "1/1", "eager" %}
    </div>
    {% endif %}
  {% endif %}
</header>
